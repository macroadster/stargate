{"id":"starlight-0g4","title":"Detect testnet4 network from base URL","description":"BitcoinNodeClient inferred 'testnet' for testnet4 URLs because it only checked for 'testnet'. This caused raw block fetches to hit blockstream testnet instead of mempool testnet4.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T17:47:15.977316-08:00","updated_at":"2025-12-18T17:47:32.418511-08:00","closed_at":"2025-12-18T17:47:32.418511-08:00","close_reason":"Infer testnet4 before testnet in BitcoinNodeClient"}
{"id":"starlight-17x","title":"Hide PSBT builder when no deliverables","description":"In Deliverables tab, the Publish \u0026 Build PSBT panel still appears when there are no deliverable tasks. Hide/disable the PSBT builder entirely until tasks/deliverables exist (post-approval) to avoid confusion.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T19:49:02.174409-08:00","updated_at":"2025-12-17T19:55:00.56765-08:00","closed_at":"2025-12-17T19:55:00.56765-08:00","close_reason":"Closed"}
{"id":"starlight-1hx","title":"Remove pixel hash field from PSBT UI","description":"PSBT builder UI shows Pixel Hash as N/A; field is not needed for users. Remove Pixel Hash display/input from PSBT UI.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-17T16:02:53.08309-08:00","updated_at":"2025-12-17T17:16:19.233209-08:00","closed_at":"2025-12-17T17:16:19.233209-08:00","close_reason":"Closed"}
{"id":"starlight-1ww","title":"Smart Contract Details: fix wallet address regression","description":"Wallet Address in Smart Contract/Inscription Details shows a hard-coded value instead of the actual address. Fix binding to display the correct wallet (funding/payer or inscription metadata) across tabs, no hard-coded demo values.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T22:42:22.213139-08:00","updated_at":"2025-12-17T22:42:22.213139-08:00","comments":[{"id":2,"issue_id":"starlight-1ww","author":"eric","text":"Regression: Wallet Address shows a hard-coded value. Fix binding to real funding/payer/inscription wallet across tabs. For inscriptions discovered from blocks (no contract/task context), hide Wallet Address and Budget fields to avoid misleading placeholders.","created_at":"2025-12-18T06:45:55Z"}]}
{"id":"starlight-2z4","title":"Expose oracle smart contracts in block-inscriptions response","description":"GUI uses /api/data/block-inscriptions and block summaries; when oracle reconciliation creates smart_contracts but no inscriptions, the UI shows nothing. Synthesize inscription entries from smart_contracts and provide image_url via /api/block-image.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T19:46:46.350077-08:00","updated_at":"2025-12-18T19:47:05.026978-08:00","closed_at":"2025-12-18T19:47:05.026978-08:00","close_reason":"Map smart contracts into block inscriptions responses"}
{"id":"starlight-3vj","title":"performance issue when rendering inscription images","description":"Stargate frontend gets HTTP code 408 frequently when there is large number of inscriptions to render.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T11:13:12.537981-08:00","updated_at":"2025-12-17T11:45:28.754307-08:00","closed_at":"2025-12-17T11:45:28.754307-08:00","close_reason":"Closed"}
{"id":"starlight-601","title":"visible_pixel_hash is truncated (8 bytes) and unusable for PSBT/oracle matching","description":"visible_pixel_hash is computed as only 8 bytes (short hash). Needs full-length 32-byte hash (sha256) for PSBT/oracle matching; update computeVisiblePixelHash and ingestion metadata to store full hash.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T14:05:32.808841-08:00","updated_at":"2025-12-18T14:10:46.017075-08:00","closed_at":"2025-12-18T14:10:46.017075-08:00","close_reason":"Done","dependencies":[{"issue_id":"starlight-601","depends_on_id":"starlight-qpc","type":"discovered-from","created_at":"2025-12-18T14:05:32.810266-08:00","created_by":"eric"}]}
{"id":"starlight-6c2","title":"Add Taproot option for PSBT builder","description":"Add a Taproot option to the PSBT builder: allow payer/change and/or payout to use taproot (bc1p/tb1p) when wallets support it, lowering fees. Keep P2WPKH as default for compatibility. Update UI toggle, fee estimation, and builder logic to handle taproot addresses/scripts.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T21:56:34.034315-08:00","updated_at":"2025-12-17T21:56:34.034315-08:00"}
{"id":"starlight-701","title":"PSBT payout targets wrong output","description":"Sparrow import shows PSBT consolidating to funder wallet instead of paying contractor payout from task; ensure payout output uses contractor/funding_address and not funder change only.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-17T16:02:40.640467-08:00","updated_at":"2025-12-17T16:32:23.736725-08:00","closed_at":"2025-12-17T16:32:23.736725-08:00","close_reason":"Closed"}
{"id":"starlight-78l","title":"Auth re-login loses wallet binding","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T17:00:37.76199-08:00","updated_at":"2025-12-17T17:04:49.949702-08:00","closed_at":"2025-12-17T17:04:49.949702-08:00","close_reason":"Closed"}
{"id":"starlight-7uy","title":"Infer network from wallet addresses","description":"Smart Contract Details shows wrong network (mainnet) for testnet contracts. Update network detection to infer from funding/payer/contractor wallet addresses first (bech32/base58 hrp/prefix), fallback to metadata, and only then health endpoint. Display testnet when wallets are testnet addresses.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T20:17:40.375749-08:00","updated_at":"2025-12-17T20:27:03.701572-08:00","closed_at":"2025-12-17T20:27:03.701572-08:00","close_reason":"Closed"}
{"id":"starlight-923","title":"Block monitor fetches mainnet raw blocks when BITCOIN_NETWORK=testnet4","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T11:52:42.695857-08:00","updated_at":"2025-12-18T12:02:56.420903-08:00","closed_at":"2025-12-18T12:02:56.420903-08:00","close_reason":"Done","dependencies":[{"issue_id":"starlight-923","depends_on_id":"starlight-93h","type":"discovered-from","created_at":"2025-12-18T11:52:42.696973-08:00","created_by":"eric"}]}
{"id":"starlight-93h","title":"Move confirmed smart contract from uploads directory to the correct block height images directory","description":"block monitor should check pixel hash and payout script hash to move image to designated block height directory for historical record keeping, and update smart contract info for the block accordingly","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T11:05:09.187384-08:00","updated_at":"2025-12-18T11:31:09.995518-08:00","closed_at":"2025-12-18T11:31:09.995518-08:00","close_reason":"Done"}
{"id":"starlight-9i2","title":"PSBT should store funding_txid even when use_pixel_hash=false","description":"handleContractPSBT only saved funding_txid when use_pixel_hash resolved an ingestion record. This prevents oracle reconcile from matching by txid when pixel hash is disabled.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T19:03:56.077174-08:00","updated_at":"2025-12-18T19:04:14.455893-08:00","closed_at":"2025-12-18T19:04:14.455893-08:00","close_reason":"Always load ingestion by contract id for funding_txid storage"}
{"id":"starlight-a6i","title":"Disable ability to register if no wallet address given in stargate","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T11:14:27.661826-08:00","updated_at":"2025-12-17T11:23:18.839554-08:00","closed_at":"2025-12-17T11:23:18.839554-08:00","close_reason":"Closed"}
{"id":"starlight-amj","title":"Unify publish + PSBT build in Deliverables","description":"Combine proposal publish and PSBT build into a single action in Deliverables. Surface contractor wallet (from claim) and payout script; block action until wallet present. On click: approve/publish proposal if needed, build PSBT with chosen fee rate and budgets, and return payout script + PSBT hex. Keep fee control; compact UI; retire separate builder in Proposals tab.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T19:04:14.530435-08:00","updated_at":"2025-12-17T19:09:02.561138-08:00","closed_at":"2025-12-17T19:09:02.561138-08:00","close_reason":"Closed"}
{"id":"starlight-bo4","title":"Frontend integrate PSBT builder","description":"Wire the UI to call POST /api/smart_contract/contracts/{id}/psbt with payer API key wallet, contractor wallet/api key, optional pixel hash; display base64 PSBT and summary for Sparrow.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T14:30:09.617031-08:00","updated_at":"2025-12-17T14:33:31.57525-08:00","closed_at":"2025-12-17T14:33:31.57525-08:00","close_reason":"Closed"}
{"id":"starlight-ccu","title":"generate PSBT transaction from smart contract for sparrow wallet","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T11:10:17.560676-08:00","updated_at":"2025-12-18T17:13:31.372759-08:00","closed_at":"2025-12-18T17:13:31.372759-08:00","close_reason":"Adjusted PSBT outputs to pay contractor and add pixel-hash commitment","dependencies":[{"issue_id":"starlight-ccu","depends_on_id":"starlight-e04","type":"blocks","created_at":"2025-12-17T11:17:29.895985-08:00","created_by":"eric"}],"comments":[{"id":4,"issue_id":"starlight-ccu","author":"eric","text":"This is implemented for funder to payout contractors.  Is it possible to perform fund raiser style contract, where contractors pay the funder?","created_at":"2025-12-18T19:14:42Z"}]}
{"id":"starlight-e04","title":"add testnet4 support to wallet challenge in stargate","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T11:06:49.696663-08:00","updated_at":"2025-12-17T13:47:59.325998-08:00","closed_at":"2025-12-17T13:47:59.325998-08:00","close_reason":"Closed"}
{"id":"starlight-h37","title":"contractor wallet address is not captured in smart contract in stargate","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T11:08:49.832451-08:00","updated_at":"2025-12-17T11:08:49.832451-08:00","dependencies":[{"issue_id":"starlight-h37","depends_on_id":"starlight-e04","type":"blocks","created_at":"2025-12-17T11:17:53.610824-08:00","created_by":"eric"},{"issue_id":"starlight-h37","depends_on_id":"starlight-ccu","type":"blocks","created_at":"2025-12-17T11:18:14.710897-08:00","created_by":"eric"}],"comments":[{"id":3,"issue_id":"starlight-h37","author":"eric","text":"contractor wallet is shown as single address in deliverable review, ideally it is shown in Deliverable Details for each submission","created_at":"2025-12-18T19:02:18Z"}]}
{"id":"starlight-lqy","title":"Duplicate ingestion records created (UUID + visible_pixel_hash) for same upload","description":"Ingestion is created twice for same upload (UUID + visible_pixel_hash ID). Causes mismatched records like 3a3fa2c37bcc7ff6 vs f2ed3efd-...; find double-create path in /api/inscribe/ingestion seeding and de-dupe.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T14:06:03.99484-08:00","updated_at":"2025-12-18T14:10:56.939918-08:00","closed_at":"2025-12-18T14:10:56.939918-08:00","close_reason":"Done","dependencies":[{"issue_id":"starlight-lqy","depends_on_id":"starlight-qpc","type":"discovered-from","created_at":"2025-12-18T14:06:03.995853-08:00","created_by":"eric"}]}
{"id":"starlight-n3z","title":"Move PSBT builder to proposal tab after approval","description":"Relocate PSBT build UI from Deliverables tab to Proposal tab; only enable after proposal approved.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:03:15.441535-08:00","updated_at":"2025-12-17T17:16:11.054269-08:00","closed_at":"2025-12-17T17:16:11.054269-08:00","close_reason":"Closed"}
{"id":"starlight-oz8","title":"Fix Smart Contract Details page data accuracy","description":"In Inscription/Smart Contract Details modal, several fields are inaccurate across tabs: Wallet Address and Budget values are not consistent/accurate; Network shows Bitcoin Mainnet even on testnet; File Name text overflows the dialog. Fix data binding so Wallet Address and Budget reflect the correct contract/task values on all tabs, show correct network, and prevent File Name bleed/overflow.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T20:01:31.639539-08:00","updated_at":"2025-12-17T20:13:22.588135-08:00","closed_at":"2025-12-17T20:13:22.588135-08:00","close_reason":"Closed"}
{"id":"starlight-qpc","title":"Add oracle-style ingestion reconciliation using payout script hash (no on-chain image required)","description":"Implement oracle reconciliation in block monitor: for each confirmed tx output, derive script hash (sha256 + hash160) and match against ingestion visible_pixel_hash. If match, move upload into block images dir, update smart_contract metadata, without requiring on-chain image payload.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-18T12:06:56.202505-08:00","updated_at":"2025-12-18T12:11:10.13042-08:00","closed_at":"2025-12-18T12:11:10.13042-08:00","close_reason":"Done","dependencies":[{"issue_id":"starlight-qpc","depends_on_id":"starlight-93h","type":"discovered-from","created_at":"2025-12-18T12:06:56.203686-08:00","created_by":"eric"}]}
{"id":"starlight-sxx","title":"Ingestion image move should handle id-prefixed filenames","description":"Oracle reconcile failed to move images because uploads use \u003cid\u003e_\u003cfilename\u003e while move logic only checked filename. Update move to look for prefixed files and glob matches.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T17:36:14.172317-08:00","updated_at":"2025-12-18T17:36:32.34315-08:00","closed_at":"2025-12-18T17:36:32.34315-08:00","close_reason":"Updated move logic to handle id-prefixed upload filenames"}
{"id":"starlight-tj9","title":"Auto-discover funding txid in block monitor","description":"When a PSBT payout is broadcast/confirmed, automatically detect it via block/mempool monitoring and update the task/proposal funding metadata. Compute payout/change scripts from stored PSBT context (contractor wallet or pixel-hash script), scan new blocks/txs for those outputs, and persist txid/vout + confirmation height in merkle_proof/funding records so UI shows funding automatically without manual entry.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T18:52:38.606795-08:00","updated_at":"2025-12-17T22:34:28.859924-08:00","comments":[{"id":1,"issue_id":"starlight-tj9","author":"eric","text":"Blocked on starlight-zu7: need per-contract/network selection to monitor testnet4/mainnet concurrently. Also need to record block height when auto-linking txid.","created_at":"2025-12-18T06:34:48Z"}]}
{"id":"starlight-yol","title":"Wallet address display shows 'pending' in PSBT panel","description":"PSBT builder displays payer/contractor wallet as 'bc1q...pending'; ensure actual wallet addresses show without 'pending' suffix.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-17T16:03:04.972231-08:00","updated_at":"2025-12-17T17:16:27.585198-08:00","closed_at":"2025-12-17T17:16:27.585198-08:00","close_reason":"Closed"}
{"id":"starlight-yov","title":"Pixel Hash + Redeem Script End-to-End Workflow","description":"Implement full pixel-hash commitment workflow: build P2WSH outputs with explicit redeem script, persist redeem script/preimage policy, enable spend flow to contractor, and integrate UI/backend to monitor funding + redemption end-to-end.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-18T16:51:47.47506-08:00","updated_at":"2025-12-18T16:52:01.46164-08:00"}
{"id":"starlight-yov.1","title":"Oracle-style image move by hash","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T17:12:49.715096-08:00","updated_at":"2025-12-18T17:12:49.715096-08:00","dependencies":[{"issue_id":"starlight-yov.1","depends_on_id":"starlight-yov","type":"parent-child","created_at":"2025-12-18T17:12:49.71577-08:00","created_by":"eric"}]}
{"id":"starlight-ywq","title":"PSBT autofill risks","description":"Current PSBT builder relies on task.funding_address and visible_pixel_hash defaults; lacks explicit validation when missing or mismatched and doesn't show which task/amount selected. Add validation/error states and clearer task selection summary.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-17T16:03:26.56987-08:00","updated_at":"2025-12-17T17:16:36.340063-08:00","closed_at":"2025-12-17T17:16:36.340063-08:00","close_reason":"Closed"}
{"id":"starlight-zu7","title":"Support concurrent mainnet \u0026 testnet4 monitoring","description":"Allow monitoring/builder to handle both mainnet and testnet4 at the same time. Use per-contract/network selection (e.g., inferred from address/network metadata) instead of a global BITCOIN_NETWORK toggle so block/tx fetching, mempool calls, and PSBT building hit the correct network concurrently.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-17T22:03:01.025163-08:00","updated_at":"2025-12-17T22:08:18.671127-08:00"}
